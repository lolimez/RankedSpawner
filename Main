package me.Jaliyiah.RankedSpawner;

import org.bukkit.Bukkit;
import org.bukkit.Material;
import org.bukkit.block.Sign;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.Action;
import org.bukkit.event.player.PlayerInteractEvent;
import org.bukkit.plugin.java.JavaPlugin;

public class Main extends JavaPlugin implements Listener {

	public static Economy economy = null;

    public static File folder;
    public static File file;
    public static FileConfiguration perms;
	
	@Override
	public void onEnable() {
		
		Bukkit.getPluginManager().registerEvents(this, this);
		
        folder = getDataFolder();

        file = new File(folder, "permissions.yml");

        perms = new YamlConfiguration();

        if (folder.exists() == false) {


            try {

                folder.mkdir();

            } catch (Exception e) {


            }

        }

        if (file.exists() == false) {

            try {

                file.createNewFile();

            } catch (Exception e) {


            }

        }

        try {

            perms.load(file);

        } catch (Exception e) {


        }
        
        if (!setupEconomy()) {
        
        	getLogger().severe(String.format("[%s] - No Vault dependency was found, plugin disabled."))
        	getServer().getPluginManager().disablePlugin(this);
        	
        	return;
        
        }

	}
	
	@Override
	public void onDisable() {
		
		try {
		
			perms.saveFile(file);
		
		} catch (Exception e) {
		
		
		
		}
		
	}
	
	public boolean setupEconomy() {
	
		if (getServer().getPluginManager().getPlugin("Vault") == null) {
		
			return false;
		
		}
		
		RegisteredServiceProvider<Economy> rsp = getServer().getServicesManager().getRegistration(Economy.class);
		
		if (rsp == null) {
		
			return false;
		
		}
		
		economy = rsp.getProvider();
		return rsp != null;
	
	}

	public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {
	
		Player p = (Player) sender;
		String uuid = p.getUniqueId().toString();
	
		if (cmd.getName().equalsIgnoreCase("rankup")) {
		
			if (perms.getInt("Level." + uuid) == 1) {
			
				if (perms.getInt("Chicken." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 2" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Chicken Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 2) {
			
				if (perms.getInt("Pig." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 3" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Pig Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 3) {
			
				if (perms.getInt("Cow." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 4" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Cow Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 4) {
			
				if (perms.getInt("Spider." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 5" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Spider Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 5) {
			
				if (perms.getInt("Zombie." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 6" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Zombie Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 6) {
				
				if (perms.getInt("Skeleton." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 7" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Skeleton Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 7) {
			
				if (perms.getInt("Blaze." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 8" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Blaze Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 8) {
			
				if (perms.getInt("Creeper." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 9" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Creeper Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 9) {
			
				if (perms.getInt("Enderman." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 10" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "Enderman Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			} else if (perms.getInt("Level.") == 10) {
			
				if (perms.getInt("IronGolem." + uuid) == 1) {

					Bukkit.broadcastMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + p.getName() + " has ranked up to " + ChatColor.UNDERLINE + "Level 11" + ChatColor.GRAY + "!");
				
				} else {
				
					p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to purchase a " + ChatColor.UNDERILNE + "IronGolem Spawner" + ChatColor.GRAY + " before you can do this!");
				
				}
			
			}
		
		}
		
		return true;
		
	}
	
	@EventHandler
	public void onPlayerJoin(PlayerJoinEvent e) {
	
	Player p = e.getPlayer();
	
	String uuid = p.getUniqueId().toString();
	
		if (p.hasPlayedBefore()) {
		
			perms.set("PlayerInfo." + uuid, p.getName());
		
		} else {
		
			perms.set("Level." + uuid, 1);
			perms.set("Chicken." + uuid, 0);
			perms.set("Pig." + uuid, 0);
			perms.set("Cow." + uuid, 0);
			perms.set("Spider." + uuid, 0);
			perms.set("Zombie." + uuid, 0);
			perms.set("Skeleton." + uuid, 0);
			perms.set("Blaze." + uuid, 0);
			perms.set("Creeper." + uuid, 0);
			perms.set("Enderman." + uuid, 0);
			perms.set("IronGolem." + uuid, 0);
		
		}
	
	}

	@EventHandler
	public void onPlayerInteract(PlayerInteractEvent e) {
		
		Player p = e.getPlayer();
		Sign sign = (Sign) e.getClickedBlock().getState();

		if (e.getAction() == Action.RIGHT_CLICK_BLOCK) {
			
			if (e.getClickedBlock().getType() == Material.SIGN_POST || e.getClickedBlock().getType() == Material.WALL_SIGN) {
				
				if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Chicken") && sign.getLine(2).equalsIgnoreCase("$5000") && sign.getLine(3).equalsIgnoreCase("1")) {
					
					if (perms.getInt("Level.") >= 1) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 5000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Chicken Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Chicken Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");)
							
							return;
							
						}
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Pig") && sign.getLine(2).equalsIgnoreCase("$15000") && sign.getLine(3).equalsIgnoreCase("2")) {
					
					if (perms.getInt("Level." >= 2)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 15000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Pig Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Pig Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 2" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Cow") && sign.getLine(2).equalsIgnoreCase("$25000") && sign.getLine(3).equalsIgnoreCase("3")) {
					
					if (perms.getInt("Level." >= 3)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 25000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Cow Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Cow Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 3" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Spider") && sign.getLine(2).equalsIgnoreCase("$40000") && sign.getLine(3).equalsIgnoreCase("4")) {
					
					if (perms.getInt("Level." >= 4)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 40000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Spider Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Spider Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 4" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Zombie") && sign.getLine(2).equalsIgnoreCase("$60000") && sign.getLine(3).equalsIgnoreCase("5")) {
					
					if (perms.getInt("Level." >= 5)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 60000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Zombie Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Zombie Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 5" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Skeleton") && sign.getLine(2).equalsIgnoreCase("$80000") && sign.getLine(3).equalsIgnoreCase("6")) {
					
					if (perms.getInt("Level." >= 6)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 80000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Skeleton Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Skeleton Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 6" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Blaze") && sign.getLine(2).equalsIgnoreCase("$100000") && sign.getLine(3).equalsIgnoreCase("7")) {
					
					if (perms.getInt("Level." >= 7)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 100000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Blaze Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Blaze Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 7" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Creeper") && sign.getLine(2).equalsIgnoreCase("$200000") && sign.getLine(3).equalsIgnoreCase("8")) {
					
					if (perms.getInt("Level." >= 8)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 200000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Creeper Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased a " + ChatColor.UNDERILNE + "Creeper Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 8" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Enderman") && sign.getLine(2).equalsIgnoreCase("$500000") && sign.getLine(3).equalsIgnoreCase("9")) {
					
					if (perms.getInt("Level." >= 9)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 500000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Enderman Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased an " + ChatColor.UNDERILNE + "Enderman Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 9" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				} else if (sign.getLine(0).equalsIgnoreCase("RankedSpawner") && sign.getLine(1).equalsIgnoreCase("Iron Golem") && sign.getLine(2).equalsIgnoreCase("$1000000") && sign.getLine(3).equalsIgnoreCase("10")) {
					
					if (perms.getInt("Level." >= 10)) {
					
						if (p.getInventory.firstEmpty() != -1) {

							EconomyResponse er = economy.withdrawPlayer(p.getName(), 1000000);
							if (er.transactionSuccess()) {
						
								ItemStack spawner = new ItemStack(Material.MOB_SPAWNER);
								ItemMeta spawnerMeta = spawner.getItemMeta();
								spawnerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "IronGolem Spawner")
								spawner.setItemMeta(spawnerMeta);
								
								p.getInventory().addItem(spawner);
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You have purchased an " + ChatColor.UNDERILNE + "IronGolem Spawner" + ChatColor.GRAY + "!");
								
								return;
						
							} else {
							
								p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You do not have the required funds to buy this!");
							
							}
							
						} else {
						
							p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "Your inventory is full!");
							
							return;
							
						}
					
					} else {
					
						p.sendMessage(p.sendMessage(ChatColor.BLACK + "[" + ChatColor.DARK_PURPLE + "RankedSpawner" + ChatColor.BLACK + "] " + ChatColor.GRAY + "You need to be " + ChatColor.UNDERILNE + "Level 10" + ChatColor.GRAY + " to buy this spawner!");)
					
					}
					
				}
				
			}
			
		} else {
			
			return;
			
		}
		
	}
	
	@EventHandler
	public void onBlockPlace(BlockPlaceEvent e) {
	
		Block block = e.getPlaceBlock();

		if (block == new ItemStack(Material.MOB_SPAWNER)) {
		
			if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Chicken Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.CHICKEN);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Pig Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.PIG);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Cow Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.COW);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Spider Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.SPIDER);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Zombie Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.ZOMBIE);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Skeleton Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.SKELETON);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Blaze Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.BLAZE);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Creeper Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.CREEPER);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Enderman Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.ENDERMAN);
			
			} else if (block.getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "IronGolem Spawner")) {
			
				CreatureSpawner cs = (CreatureSpawner) block.getState();
				cs.setSpawnedType(EntityType.VILLAGERGOLEM);
			
			}
		
		} else {
		
			return;
		
		}
	
	}

}
